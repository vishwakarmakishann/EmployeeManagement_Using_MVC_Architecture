<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/style.css">
  </head>

  <body>
    <header>
      <!-- place navbar here -->
    </header>
    <main>
      <nav class="navbar navbar-expand-sm navbar-light  bg-secondary border-dark">
        <div class="container">
          <img
            src="https://media.istockphoto.com/id/871461336/vector/icon-for-business-management-recruitment-of-employees-team-work.jpg?s=612x612&w=0&k=20&c=FRna_epaMZsMGJN8ubve0pvEStVWQNzIyMy0lla91Ow="
            class="img-fluid rounded"
            alt=""
            width="50px"
          />
          <button
            class="navbar-toggler d-lg-none"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapsibleNavId"
            aria-controls="collapsibleNavId"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="collapsibleNavId">
            <ul class="navbar-nav me-auto mt-2 mt-lg-0">
              <li class="nav-item">
                <a class="nav-link active" href="/dashboard" aria-current="page"
                  >Employee Manager
                  <span class="visually-hidden">(current)</span></a
                >
              </li>
            </ul>
            <form action="/search" method="post" class="d-flex my-2 my-lg-0">
              <input
                class="form-control me-sm-2"
                type="text"
                name="search"
                placeholder="Search by Name or Department"
              />
              <button
                class="btn btn-info my-2 my-sm-0"
                type="submit"
              >
                Search
              </button>
              <a
                name=""
                id=""
                class="btn btn-warning mx-2"
                href="/logout"
                role="button"
                >Logout</a
              >
            </form>
          </div>
        </div>
      </nav>

      <div class="container mt-3">
        <h1>Welcome, <%= username %>!</h1>
      </div>

      <div
        class="container mt-3 d-flex justify-content-between align-items-center"
      >
        <h3>Employee Details</h3>
        <a name="" id="" class="btn btn-success" href="addEmp" role="button"
          >Add Employee</a
        >
      </div>

      <div class="container mt-2">
        <div class="table-responsive">
          <table class="table table-primary table-bordered">
            <thead class="table-dark">
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Age</th>
                <th scope="col">Salary</th>
                <th scope="col">Department</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% if(emps.length>0){ %>
              <% emps.forEach((emp)=>{ %>
              <tr class="">
                <td><%= emp.id %></td>
                <td><%= emp.name %></td>
                <td><%= emp.age %></td>
                <td><%= emp.salary %></td>
                <td><%= emp.department %></td>
                <td>
                  <div
                    class="container d-flex"
                  >
                    <a
                    name=""
                    id=""
                    class="btn btn-warning"
                    href="/update/<%= emp._id %>"
                    role="button"
                    >Edit</a
                  >
                  <form
                    action="/delete/<%= emp._id %>?_method=DELETE"
                    method="post"
                  >
                    <button id="del" type="submit" class="btn btn-primary mx-2" onclick='return confirm("Are you sure? DELETE!");'>
                      Delete
                    </button>
                  </form>
                </td>
                  </div>
                  
              </tr>
              <% }) %>
              <% } else { %>
              <tr>
                <td colspan="6" class="text-center">No Employee Found</td>
              </tr>
              <% } %>
            </tbody>
          </table> 
        </div>
      </div>
    </main>
    <footer>
      <!-- place footer here -->
    </footer>
    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
